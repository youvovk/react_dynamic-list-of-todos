{"version":3,"sources":["components/User/User.js","components/TodoItem/TodoItem.js","components/TodoList/TodoList.js","App.js","index.js"],"names":["User","_ref","user","react_default","a","createElement","className","name","email","TodoItem","todo","href","title","concat","completed","components_User_User","TodoList","todos","Fragment","map","components_TodoItem_TodoItem","key","id","App","state","preparedTodos","isLoading","hasError","isInitialized","isSorted","receiveTodosAndUsers","_this","setState","Promise","all","fetch","then","_ref2","Object","slicedToArray","responseTodos","responseUsers","json","_ref3","_ref4","todosArray","usersMapApi","_objectSpread","userId","getTodosWithUsers","reduce","acum","defineProperty","sortedTodos","toConsumableArray","sort","b","catch","sortTodos","_ref5","_this$state","this","type","onClick","components_TodoList_TodoList","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.966effc3.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport './User.css';\n\nfunction User({ user }) {\n  return (\n    <div className=\"user\">\n      <p className=\"user__responsible\">\n        responsible:\n        <span className=\"user_indent\">\n          {user.name}\n        </span>\n      </p>\n      <p className=\"user__email\">\n        contact:\n        <span className=\"user_indent\">\n          {user.email}\n        </span>\n      </p>\n    </div>\n  );\n}\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    name: PropTypes.string,\n    email: PropTypes.string,\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from '../User/User';\nimport './TodoItem.css';\n\nfunction TodoItem({ todo }) {\n  return (\n    <li className=\"todo__list todo-card\">\n      <a href=\"https://trello.com\" className=\"todo-card\">\n        <h2>{todo.title}</h2>\n        <p className=\"todo-list__completed\">\n          completed:\n          <span className={`todo-list_indent ${todo.completed === false\n            ? 'text-red'\n            : 'text-green'}`}\n          >\n            {todo.completed === false ? '\\u2A2F' : '\\u2713'}\n          </span>\n        </p>\n\n        <div className=\"todo-list__user\">\n          <User user={todo.user} />\n        </div>\n      </a>\n    </li>\n  );\n}\n\nconst shape = PropTypes.shape({\n  name: PropTypes.string,\n  email: PropTypes.string,\n});\n\nTodoItem.propTypes = {\n  todo: PropTypes.shape({\n    title: PropTypes.string,\n    completed: PropTypes.bool,\n    user: shape.isRequired,\n  }).isRequired,\n};\n\nexport default TodoItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TodoItem from '../TodoItem/TodoItem';\nimport './TodoList.css';\n\nfunction TodoList({ todos }) {\n  return (\n    <>\n      <p>\n        <span className=\"todo-title\">Todos: </span>\n      </p>\n      <ul className=\"todo-list__items\">\n        {todos.map(todo => (\n          <TodoItem todo={todo} key={todo.id} />\n        ))}\n      </ul>\n    </>\n  );\n}\n\nconst shape = PropTypes.shape({\n  title: PropTypes.string,\n  completed: PropTypes.string,\n});\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      todo: shape,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default TodoList;\n","import React from 'react';\nimport TodoList from './components/TodoList/TodoList';\n\nimport './App.css';\n\nfunction getTodosWithUsers(todosArray, usersMapApi) {\n  return todosArray.map(todo => ({\n    ...todo,\n    user: usersMapApi[todo.userId],\n  }));\n}\n\nclass App extends React.Component {\n  state = {\n    preparedTodos: [],\n    isLoading: false,\n    hasError: false,\n    isInitialized: false,\n    isSorted: false,\n  };\n\n  receiveTodosAndUsers = () => {\n    this.setState({\n      isLoading: true,\n      hasError: false,\n      isInitialized: true,\n    });\n\n    Promise.all([\n      fetch('https://jsonplaceholder.typicode.com/todos'),\n      fetch('https://jsonplaceholder.typicode.com/users'),\n    ])\n      .then(([responseTodos, responseUsers]) => Promise\n        .all([responseTodos.json(), responseUsers.json()]))\n      .then(([todos, users]) => {\n        const usersMapApi = users\n          .reduce((acum, user) => ({ ...acum, [user.id]: user }), {});\n\n        const preparedTodos = getTodosWithUsers(todos, usersMapApi);\n\n        this.setState({\n          preparedTodos,\n          sortedTodos: [...preparedTodos].sort((a, b) => {\n            if (a.title < b.title) {\n              return -1;\n            }\n            if (a.title > b.title) {\n              return 1;\n            }\n\n            return 0;\n          }),\n          isLoading: false,\n        });\n      })\n      .catch(() => {\n        this.setState({\n          hasError: true,\n          isLoading: false,\n        });\n      });\n  }\n\n  sortTodos = () => {\n    this.setState(({ isSorted }) => ({\n      isSorted: !isSorted,\n    }));\n  }\n\n  render() {\n    const {\n      preparedTodos,\n      isLoading,\n      hasError,\n      isInitialized,\n      isSorted,\n      sortedTodos,\n    } = this.state;\n\n    if (isLoading) {\n      return <p className=\"loading\">Loading...</p>;\n    }\n\n    if (hasError) {\n      return (\n        <>\n          <h1 className=\"App__title\">You want to upload again.</h1>\n          <button\n            type=\"button\"\n            className=\"btn btn-warning load load-again\"\n            onClick={this.receiveTodosAndUsers}\n          >\n            Load again\n          </button>\n        </>\n      );\n    }\n\n    if (!isInitialized) {\n      return (\n        <>\n          <h1 className=\"App__title\">Want to upload a list of todos?</h1>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary load\"\n            onClick={this.receiveTodosAndUsers}\n          >\n            Load\n          </button>\n        </>\n      );\n    }\n\n    return (\n      <div className=\"App\">\n        <button\n          type=\"button\"\n          onClick={this.sortTodos}\n          className=\"btn btn-primary load\"\n        >\n          Sort\n        </button>\n        <TodoList todos={isSorted\n          ? sortedTodos\n          : preparedTodos}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}
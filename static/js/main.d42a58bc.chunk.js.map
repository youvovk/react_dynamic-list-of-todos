{"version":3,"sources":["store/index.js","components/User/User.js","components/TodoItem/TodoItem.js","components/TodoList/TodoList.js","components/TodoList/TodoListHandler.js","App.js","AppConnect.js","index.js"],"names":["ACTION_TYPES","ADD_TODOS","SWITCH_LOADING","IS_INITIALIZED","HAS_ERROR","IS_SORT","ADD_SORTED_TODOS","switchLoading","isLoading","type","payload","errorTodos","hasError","receiveTodosAndUsers","dispatch","isInitialized","Promise","all","fetch","then","_ref","_ref2","Object","slicedToArray","responseTodos","responseUsers","json","_ref3","_ref4","todos","usersMapApi","reduce","acum","user","_objectSpread","defineProperty","id","getTodosWithUsers","todosArray","usersApi","map","todo","userId","todosSorted","preparedTodos","sortedTodos","sort","a","b","title","addTodos","catch","initialState","isSorted","store","createStore","state","arguments","length","undefined","action","toConsumableArray","applyMiddleware","thunk","User","react_default","createElement","className","name","email","TodoItem","href","concat","completed","components_User_User","TodoList","_ref$todos","_ref$todosSorted","Fragment","components_TodoItem_TodoItem","key","EnhancedList","connect","App","sortTodos","onClick","TodoListHandler","EnhancedApp","ReactDOM","render","es","AppConnect","document","getElementById"],"mappings":"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","file":"static/js/main.d42a58bc.chunk.js","sourcesContent":["import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\n\nconst ACTION_TYPES = {\n  ADD_TODOS: 'TODOS::ADD',\n  SWITCH_LOADING: 'LOADING::SWITCH',\n  IS_INITIALIZED: 'INITIALIZED::IS',\n  HAS_ERROR: 'ERROR::HAS',\n  IS_SORT: 'IS::SORT',\n  ADD_SORTED_TODOS: 'SORTED_TODOS::ADD',\n};\n\nexport const addTodos = todos => ({\n  type: ACTION_TYPES.ADD_TODOS,\n  payload: todos,\n});\n\nexport const addSortedTodos = todosSorted => ({\n  type: ACTION_TYPES.ADD_SORTED_TODOS,\n  payload: todosSorted,\n});\n\nexport const switchLoading = isLoading => ({\n  type: ACTION_TYPES.SWITCH_LOADING,\n  payload: isLoading,\n});\n\nexport const initialized = isInitialized => ({\n  type: ACTION_TYPES.IS_INITIALIZED,\n  payload: isInitialized,\n});\n\nexport const errorTodos = hasError => ({\n  type: ACTION_TYPES.HAS_ERROR,\n  payload: hasError,\n});\n\nexport const sortTodos = () => ({\n  type: ACTION_TYPES.IS_SORT,\n});\n\nexport const receiveTodosAndUsers = () => (dispatch) => {\n  dispatch(switchLoading(true));\n  dispatch(initialized(true));\n  dispatch(errorTodos(false));\n\n  Promise.all([\n    fetch('https://jsonplaceholder.typicode.com/todos'),\n    fetch('https://jsonplaceholder.typicode.com/users'),\n  ])\n    .then(([responseTodos, responseUsers]) => Promise\n      .all([responseTodos.json(), responseUsers.json()]))\n    .then(([todos, users]) => {\n      const usersMapApi = users\n        .reduce((acum, user) => ({ ...acum, [user.id]: user }), {});\n\n      function getTodosWithUsers(todosArray, usersApi) {\n        return todosArray.map(todo => ({\n          ...todo,\n          user: usersApi[todo.userId],\n        }));\n      }\n\n      const preparedTodos = getTodosWithUsers(todos, usersMapApi);\n      const sortedTodos = getTodosWithUsers(todos, usersMapApi).sort((a, b) => {\n        if (a.title < b.title) {\n          return -1;\n        }\n        if (a.title > b.title) {\n          return 1;\n        }\n\n        return 0;\n      });\n\n      dispatch(switchLoading(false));\n      dispatch(addTodos(preparedTodos));\n      dispatch(addSortedTodos(sortedTodos));\n    })\n    .catch(() => {\n      dispatch(errorTodos(true));\n      dispatch(switchLoading(false));\n    });\n};\n\nconst initialState = {\n  todos: [],\n  todosSorted: [],\n  isLoading: false,\n  isInitialized: false,\n  hasError: false,\n  isSorted: false,\n};\n\nfunction reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case ACTION_TYPES.ADD_TODOS: {\n      return {\n        ...state,\n        todos: [...action.payload],\n      };\n    }\n\n    case ACTION_TYPES.ADD_SORTED_TODOS: {\n      return {\n        ...state,\n        todosSorted: [...action.payload],\n      };\n    }\n\n    case ACTION_TYPES.SWITCH_LOADING: {\n      return {\n        ...state,\n        isLoading: action.payload,\n      };\n    }\n\n    case ACTION_TYPES.IS_INITIALIZED: {\n      return {\n        ...state,\n        isInitialized: action.payload,\n      };\n    }\n\n    case ACTION_TYPES.HAS_ERROR: {\n      return {\n        ...state,\n        hasError: action.payload,\n      };\n    }\n\n    case ACTION_TYPES.IS_SORT: {\n      return {\n        ...state,\n        isSorted: !state.isSorted,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport const store = createStore(\n  reducer,\n  applyMiddleware(thunk),\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './User.css';\n\nfunction User({ user }) {\n  return (\n    <div className=\"user\">\n      <p className=\"user__responsible\">\n        responsible:\n        <span className=\"user_indent\">\n          {user.name}\n        </span>\n      </p>\n      <p className=\"user__email\">\n        contact:\n        <span className=\"user_indent\">\n          {user.email}\n        </span>\n      </p>\n    </div>\n  );\n}\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    name: PropTypes.string,\n    email: PropTypes.string,\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from '../User/User';\nimport './TodoItem.css';\n\nfunction TodoItem({ todo }) {\n  return (\n    <li className=\"todo__list todo-card\">\n      <a href=\"https://trello.com\" className=\"todo-card\">\n        <h2>{todo.title}</h2>\n        <p className=\"todo-list__completed\">\n          completed:\n          <span className={`todo-list_indent ${todo.completed === false\n            ? 'text-red'\n            : 'text-green'}`}\n          >\n            {todo.completed === false ? '\\u2A2F' : '\\u2713'}\n          </span>\n        </p>\n\n        <div className=\"todo-list__user\">\n          <User user={todo.user} />\n        </div>\n      </a>\n    </li>\n  );\n}\n\nconst shape = PropTypes.shape({\n  name: PropTypes.string,\n  email: PropTypes.string,\n});\n\nTodoItem.propTypes = {\n  todo: PropTypes.shape({\n    title: PropTypes.string,\n    completed: PropTypes.bool,\n    user: shape.isRequired,\n  }).isRequired,\n};\n\nexport default TodoItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TodoItem from '../TodoItem/TodoItem';\nimport './TodoList.css';\n\nfunction TodoList({ todos = [], todosSorted = [], isSorted }) {\n  return (\n    <>\n      <p>\n        <span className=\"todo-title\">Todos: </span>\n      </p>\n      <ul className=\"todo-list__items\">\n        {!isSorted\n          ? (\n            todos.map(todo => (\n              <TodoItem todo={todo} key={todo.id} />\n            ))\n          )\n          : (\n            todosSorted.map(todo => (\n              <TodoItem todo={todo} key={todo.id} />\n            ))\n          )}\n      </ul>\n    </>\n  );\n}\n\nconst shape = PropTypes.shape({\n  title: PropTypes.string,\n  completed: PropTypes.string,\n});\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      todo: shape,\n    }).isRequired,\n  ).isRequired,\n  todosSorted: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      todo: shape,\n    }).isRequired,\n  ).isRequired,\n  isSorted: PropTypes.bool.isRequired,\n};\n\nexport default TodoList;\n","import { connect } from 'react-redux';\nimport TodoList from './TodoList';\n\nconst EnhancedList = connect(\n  state => ({\n    todos: state.todos,\n    todosSorted: state.todosSorted,\n    isSorted: state.isSorted,\n  }),\n)(TodoList);\n\nexport default EnhancedList;\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport EnhancedList from './components/TodoList/TodoListHandler';\n\nimport './App.css';\n\nconst App = ({\n  isLoading,\n  receiveTodosAndUsers,\n  isInitialized,\n  hasError,\n  sortTodos,\n}) => {\n  if (isLoading) {\n    return <p className=\"loading\">Loading...</p>;\n  }\n\n  if (hasError) {\n    return (\n      <>\n        <h1 className=\"App__title\">You want to upload again.</h1>\n        <button\n          type=\"button\"\n          className=\"btn btn-warning load load-again\"\n          onClick={receiveTodosAndUsers}\n        >\n          Load again\n        </button>\n      </>\n    );\n  }\n\n  if (!isInitialized) {\n    return (\n      <>\n        <h1 className=\"App__title\">Want to upload a list of todos?</h1>\n        <button\n          type=\"button\"\n          className=\"btn btn-primary load\"\n          onClick={receiveTodosAndUsers}\n        >\n          Load\n        </button>\n      </>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <button\n        type=\"button\"\n        onClick={sortTodos}\n        className=\"btn btn-primary load\"\n      >\n        Sort\n      </button>\n      <EnhancedList />\n    </div>\n  );\n};\n\nApp.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n  receiveTodosAndUsers: PropTypes.func.isRequired,\n  isInitialized: PropTypes.bool.isRequired,\n  hasError: PropTypes.bool.isRequired,\n  sortTodos: PropTypes.func.isRequired,\n};\n\nexport default App;\n","import { connect } from 'react-redux';\nimport App from './App';\nimport { receiveTodosAndUsers, sortTodos } from './store/index';\n\nconst mapDispatchToProps = dispatch => ({\n  receiveTodosAndUsers: () => dispatch(receiveTodosAndUsers()),\n  sortTodos: () => dispatch(sortTodos()),\n});\n\nconst EnhancedApp = connect(\n  state => ({\n    isLoading: state.isLoading,\n    isInitialized: state.isInitialized,\n    hasError: state.hasError,\n  }),\n  mapDispatchToProps,\n)(App);\n\nexport default EnhancedApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\nimport EnhancedApp from './AppConnect';\n\nReactDOM.render((\n  <Provider store={store}>\n    <EnhancedApp />\n  </Provider>\n), document.getElementById('root'));\n"],"sourceRoot":""}
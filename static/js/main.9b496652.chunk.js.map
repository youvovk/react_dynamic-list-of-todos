{"version":3,"sources":["store/index.js","components/User/User.js","components/TodoItem/TodoItem.js","components/TodoItem/TodoItemHandler.js","components/TodoList/TodoList.js","components/TodoList/TodoListHandler.js","App.js","AppConnect.js","index.js"],"names":["ACTION_TYPES","ADD_TODOS","SWITCH_LOADING","IS_INITIALIZED","HAS_ERROR","IS_SORT","ADD_SORTED_TODOS","DELETE_TODO","switchLoading","isLoading","type","payload","errorTodos","hasError","receiveTodosAndUsers","dispatch","isInitialized","Promise","all","fetch","then","_ref","_ref2","Object","slicedToArray","responseTodos","responseUsers","json","_ref3","_ref4","todos","usersMapApi","reduce","acum","user","_objectSpread","defineProperty","id","getTodosWithUsers","todosArray","usersApi","map","todo","userId","todosSorted","preparedTodos","sortedTodos","sort","a","b","title","addTodos","catch","initialState","isSorted","store","createStore","state","arguments","length","undefined","action","toConsumableArray","filter","applyMiddleware","thunk","User","react_default","createElement","className","name","email","TodoItem","deleteTodo","console","log","href","concat","completed","components_User_User","onClick","EnhancedTodoItem","connect","idTodo","TodoList","_ref$todos","_ref$todosSorted","Fragment","TodoItemHandler","key","EnhancedList","App","sortTodos","TodoListHandler","EnhancedApp","ReactDOM","render","es","AppConnect","document","getElementById"],"mappings":"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","file":"static/js/main.9b496652.chunk.js","sourcesContent":["import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\n\nconst ACTION_TYPES = {\n  ADD_TODOS: 'TODOS::ADD',\n  SWITCH_LOADING: 'LOADING::SWITCH',\n  IS_INITIALIZED: 'INITIALIZED::IS',\n  HAS_ERROR: 'ERROR::HAS',\n  IS_SORT: 'IS::SORT',\n  ADD_SORTED_TODOS: 'SORTED_TODOS::ADD',\n  DELETE_TODO: 'TODO::DELETE',\n};\n\nexport const deleteTodo = idTodo => ({\n  type: ACTION_TYPES.DELETE_TODO,\n  payload: idTodo,\n});\n\nexport const addTodos = todos => ({\n  type: ACTION_TYPES.ADD_TODOS,\n  payload: todos,\n});\n\nexport const addSortedTodos = todosSorted => ({\n  type: ACTION_TYPES.ADD_SORTED_TODOS,\n  payload: todosSorted,\n});\n\nexport const switchLoading = isLoading => ({\n  type: ACTION_TYPES.SWITCH_LOADING,\n  payload: isLoading,\n});\n\nexport const initialized = isInitialized => ({\n  type: ACTION_TYPES.IS_INITIALIZED,\n  payload: isInitialized,\n});\n\nexport const errorTodos = hasError => ({\n  type: ACTION_TYPES.HAS_ERROR,\n  payload: hasError,\n});\n\nexport const sortTodos = () => ({\n  type: ACTION_TYPES.IS_SORT,\n});\n\nexport const receiveTodosAndUsers = () => (dispatch) => {\n  dispatch(switchLoading(true));\n  dispatch(initialized(true));\n  dispatch(errorTodos(false));\n\n  Promise.all([\n    fetch('https://jsonplaceholder.typicode.com/todos'),\n    fetch('https://jsonplaceholder.typicode.com/users'),\n  ])\n    .then(([responseTodos, responseUsers]) => Promise\n      .all([responseTodos.json(), responseUsers.json()]))\n    .then(([todos, users]) => {\n      const usersMapApi = users\n        .reduce((acum, user) => ({ ...acum, [user.id]: user }), {});\n\n      function getTodosWithUsers(todosArray, usersApi) {\n        return todosArray.map(todo => ({\n          ...todo,\n          user: usersApi[todo.userId],\n        }));\n      }\n\n      const preparedTodos = getTodosWithUsers(todos, usersMapApi);\n      const sortedTodos = getTodosWithUsers(todos, usersMapApi).sort((a, b) => {\n        if (a.title < b.title) {\n          return -1;\n        }\n        if (a.title > b.title) {\n          return 1;\n        }\n\n        return 0;\n      });\n\n      dispatch(switchLoading(false));\n      dispatch(addTodos(preparedTodos));\n      dispatch(addSortedTodos(sortedTodos));\n    })\n    .catch(() => {\n      dispatch(errorTodos(true));\n      dispatch(switchLoading(false));\n    });\n};\n\nconst initialState = {\n  todos: [],\n  todosSorted: [],\n  isLoading: false,\n  isInitialized: false,\n  hasError: false,\n  isSorted: false,\n};\n\nfunction reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case ACTION_TYPES.ADD_TODOS: {\n      return {\n        ...state,\n        todos: [...action.payload],\n      };\n    }\n\n    case ACTION_TYPES.DELETE_TODO: {\n      return {\n        ...state,\n        todos: state.todos.filter(todo => todo.id !== action.payload),\n        todosSorted: state.todosSorted.filter(todo => todo.id !== action.payload),\n      };\n    }\n\n    case ACTION_TYPES.ADD_SORTED_TODOS: {\n      return {\n        ...state,\n        todosSorted: [...action.payload],\n      };\n    }\n\n    case ACTION_TYPES.SWITCH_LOADING: {\n      return {\n        ...state,\n        isLoading: action.payload,\n      };\n    }\n\n    case ACTION_TYPES.IS_INITIALIZED: {\n      return {\n        ...state,\n        isInitialized: action.payload,\n      };\n    }\n\n    case ACTION_TYPES.HAS_ERROR: {\n      return {\n        ...state,\n        hasError: action.payload,\n      };\n    }\n\n    case ACTION_TYPES.IS_SORT: {\n      return {\n        ...state,\n        isSorted: !state.isSorted,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport const store = createStore(\n  reducer,\n  applyMiddleware(thunk),\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './User.css';\n\nfunction User({ user }) {\n  return (\n    <div className=\"user\">\n      <p className=\"user__responsible\">\n        responsible:\n        <span className=\"user_indent\">\n          {user.name}\n        </span>\n      </p>\n      <p className=\"user__email\">\n        contact:\n        <span className=\"user_indent\">\n          {user.email}\n        </span>\n      </p>\n    </div>\n  );\n}\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    name: PropTypes.string,\n    email: PropTypes.string,\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from '../User/User';\nimport './TodoItem.css';\n\nfunction TodoItem({ todo, deleteTodo }) {\n  console.log(todo.id)\n  return (\n    <li className=\"todo__list todo-card\">\n      <a href=\"#\" className=\"todo-card\">\n        <h2>{todo.title}</h2>\n        <p className=\"todo-list__completed\">\n          completed:\n          <span className={`todo-list_indent ${todo.completed === false\n            ? 'text-red'\n            : 'text-green'}`}\n          >\n            {todo.completed === false ? '\\u2A2F' : '\\u2713'}\n          </span>\n        </p>\n\n        <div className=\"todo-list__user\">\n          <User user={todo.user} />\n          <button type=\"button\" onClick={() => deleteTodo(todo.id)}>Delete Todo</button>\n        </div>\n      </a>\n    </li>\n  );\n}\n\nconst shape = PropTypes.shape({\n  name: PropTypes.string,\n  email: PropTypes.string,\n});\n\nTodoItem.propTypes = {\n  todo: PropTypes.shape({\n    title: PropTypes.string,\n    completed: PropTypes.bool,\n    user: shape.isRequired,\n  }).isRequired,\n};\n\nexport default TodoItem;\n","import { connect } from 'react-redux';\nimport TodoItem from './TodoItem';\nimport { deleteTodo } from '../../store/index';\n\nconst mapDispatchToProps = dispatch => ({\n  deleteTodo: id => dispatch(deleteTodo(id)),\n});\n\nconst EnhancedTodoItem = connect(\n  state => ({\n    isLoading: state.isLoading,\n    isInitialized: state.isInitialized,\n    hasError: state.hasError,\n  }),\n  mapDispatchToProps,\n)(TodoItem);\n\nexport default EnhancedTodoItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TodoItemHandler from '../TodoItem/TodoItemHandler';\nimport './TodoList.css';\n\nfunction TodoList({ todos = [], todosSorted = [], isSorted }) {\n  return (\n    <>\n      <p>\n        <span className=\"todo-title\">Todos: </span>\n      </p>\n      <ul className=\"todo-list__items\">\n        {!isSorted\n          ? (\n            todos.map(todo => (\n              <TodoItemHandler todo={todo} key={todo.id} />\n            ))\n          )\n          : (\n            todosSorted.map(todo => (\n              <TodoItemHandler todo={todo} key={todo.id} />\n            ))\n          )}\n      </ul>\n    </>\n  );\n}\n\nconst shape = PropTypes.shape({\n  title: PropTypes.string,\n  completed: PropTypes.string,\n});\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      todo: shape,\n    }).isRequired,\n  ).isRequired,\n  todosSorted: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      todo: shape,\n    }).isRequired,\n  ).isRequired,\n  isSorted: PropTypes.bool.isRequired,\n};\n\nexport default TodoList;\n","import { connect } from 'react-redux';\nimport TodoList from './TodoList';\n\nconst EnhancedList = connect(\n  state => ({\n    todos: state.todos,\n    todosSorted: state.todosSorted,\n    isSorted: state.isSorted,\n  }),\n)(TodoList);\n\nexport default EnhancedList;\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport EnhancedList from './components/TodoList/TodoListHandler';\n\nimport './App.css';\n\nconst App = ({\n  isLoading,\n  receiveTodosAndUsers,\n  isInitialized,\n  hasError,\n  sortTodos,\n}) => {\n  if (isLoading) {\n    return <p className=\"loading\">Loading...</p>;\n  }\n\n  if (hasError) {\n    return (\n      <>\n        <h1 className=\"App__title\">You want to upload again.</h1>\n        <button\n          type=\"button\"\n          className=\"btn btn-warning load load-again\"\n          onClick={receiveTodosAndUsers}\n        >\n          Load again\n        </button>\n      </>\n    );\n  }\n\n  if (!isInitialized) {\n    return (\n      <>\n        <h1 className=\"App__title\">Want to upload a list of todos?</h1>\n        <button\n          type=\"button\"\n          className=\"btn btn-primary load\"\n          onClick={receiveTodosAndUsers}\n        >\n          Load\n        </button>\n      </>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <button\n        type=\"button\"\n        onClick={sortTodos}\n        className=\"btn btn-primary load\"\n      >\n        Sort\n      </button>\n      <EnhancedList />\n    </div>\n  );\n};\n\nApp.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n  receiveTodosAndUsers: PropTypes.func.isRequired,\n  isInitialized: PropTypes.bool.isRequired,\n  hasError: PropTypes.bool.isRequired,\n  sortTodos: PropTypes.func.isRequired,\n};\n\nexport default App;\n","import { connect } from 'react-redux';\nimport App from './App';\nimport { receiveTodosAndUsers, sortTodos } from './store/index';\n\nconst mapDispatchToProps = dispatch => ({\n  receiveTodosAndUsers: () => dispatch(receiveTodosAndUsers()),\n  sortTodos: () => dispatch(sortTodos()),\n});\n\nconst EnhancedApp = connect(\n  state => ({\n    isLoading: state.isLoading,\n    isInitialized: state.isInitialized,\n    hasError: state.hasError,\n  }),\n  mapDispatchToProps,\n)(App);\n\nexport default EnhancedApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\nimport EnhancedApp from './AppConnect';\n\nReactDOM.render((\n  <Provider store={store}>\n    <EnhancedApp />\n  </Provider>\n), document.getElementById('root'));\n"],"sourceRoot":""}